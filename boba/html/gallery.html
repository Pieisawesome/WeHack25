<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery</title>
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    <header>
        <h1>Find Hot Signals In Your Area: <br>Cell Phone Tower </h1>
        <nav>
            <ul>
                <li><a href="./index.html">Home</a></li>
                <li><a href="./insert.html">Upload Image</a></li>
                <li><a href="./gallery.html">Gallery</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="gallery-section">
            <h2>Tower Gallery</h2>
            <div class="gallery-grid" id="tower-gallery">
            </div>
            <div>
                <a href="profile.html?tower_id=1">
                <img src ='../uploads/1/image.jpg' alt="Verizon Cell Tower" width="100" height="">
                </a>
                <br>
                <p> Tower 1: 3/5 Stars</p>
            </div>
        </section>
    </main>

    <footer>
        <p>Lana Tran | <a href="https://www.linkedin.com/in/lana-tran-pie/">LinkedIn</a></li> | <a href="https://github.com/Pieisawesome/WeHack25#">GitHub</a>
        </p>
    </footer>
    <script>
        const towersData = JSON.parse('{{ towers }}');
        const galleryDiv = document.getElementById('tower-gallery');

        towersData.forEach(tower => {
            const towerDiv = document.createElement('div');
            towerDiv.className = 'tower-profile';
            towerDiv.innerHTML = `
                <a href="/profile/${tower.id}">
                    <img src="/uploads/${tower.id}/${tower.representative_image}" alt="Tower ${tower.id}" width="200">
                </a>
                <p>Tower ${tower.id}</p>
                <p>${tower.image_count} Images</p>
            `;
            galleryDiv.appendChild(towerDiv);
        });
    </script>
</body>
</html>